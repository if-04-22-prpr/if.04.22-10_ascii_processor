<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASCII Processor: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ASCII Processor
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ASCII Processor Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>The implementation a text file processor. The files of a directory are printed and compressed using RLE.</p>
<h1><a class="anchor" id="objective"></a>
Assignment Objective</h1>
<p>Working with directories, reading and writing text and binary files, and compressing and expanding text files to binary files using RLE.</p>
<h1><a class="anchor" id="assignment"></a>
Assignment</h1>
<p>Implement an 'ASCII File Processor'. Although a few functions are pre-declared, it is perfectly fine to structure the application in a different way. Files and functions may be added, pre-declared functions may be modified or removed as needed. It is, however, not allowed to put all code into <code>main</code> or antother single function. Design the application in a reasonable way, feel free to use function pointers or other concepts, such as lists for chaching directory content.</p>
<p>The is assignment comes without unit tests - the output is supposed to be sufficient for testing the application. You are still welcome to add unit tests as required. If you need to test directory / file access, those function shall be mocked to allow reasonably tests.</p>
<p>POSIX functions for processing directories and files shall be used.</p><ul>
<li>Documentation for functions related to directories can be found at <a href="https://pubs.opengroup.org/onlinepubs/009695399/functions/opendir.html">https://pubs.opengroup.org/onlinepubs/009695399/functions/opendir.html</a> and linked pages.</li>
<li>Documentation for functions related to file processing can be found at <a href="https://en.cppreference.com/w/c/io">https://en.cppreference.com/w/c/io</a></li>
<li>See the technical notes in the header or <code>ascii_processor_app.c</code>.</li>
</ul>
<p>Because file may be rather large - too large to fit into available memory - they shall be read and written in chunks of a few bytes (e.g. 32 bytes). The buffer shall then be process 'on the fly', e.g. printed or compressed. The result of a compression shall be either written into a small buffer or directly to the file.</p>
<h2><a class="anchor" id="rle"></a>
Run-Length Encoding (RLE):</h2>
<p>RLE is a very simple compression algorithm suitable for content with a lot of repeating symbols (such as ASCII Arts). It actually counts the number of repetitions of a single symbol and replaces the repeating symbol sequence with the count and the symbol.</p>
<p>E.g. the text <code>aaabbbbbbbc</code> is compressed to <code>a3b7c1</code>. The RLE encoded content shall be stored as binary file.</p>
<p>More than 256 repetitions of a symbol shall be broken in the multiple tokens, where each token codes at maximum 256 repetitions. E.g. 258 'r's shall be encoded as <code>r256r2</code>. This allows using an 8-bit unsigned integer type as counter.</p>
<p>Although this simple approach could lead to even longer content (e.g. <code>abc</code> -&gt; <code>a1b1c1</code>) it is sufficient for this assignment, because it simplifies the implementation of the RLE encoder (compression) and decoder (expander) significantly.</p>
<p>A more advanced implementation of RLE may benefit from the limitied ASCII character range of 0 -127. Character codes could be negated (*-1) to use the MSB as flag for distinguishing between counter and symbol. Caution must be taken at the end of compressed buffers, since splitting of counter and symbol into different buffers of fixed sizes cannot be safely avoided.</p>
<p>see also: <a href="https://de.wikipedia.org/wiki/Laufl%C3%A4ngenkodierung">https://de.wikipedia.org/wiki/Laufl%C3%A4ngenkodierung</a></p>
<h1><a class="anchor" id="instructions"></a>
Working Instructions</h1>
<ol type="1">
<li>Implement an application that lists the content of subdirectory <code>./ascii-art</code> and produces the following output: <div class="fragment"><div class="line">Listing files of directory: ./ascii_art</div>
<div class="line"> - dilbert.txt (2259 B)</div>
<div class="line"> - car.txt (662 B)</div>
<div class="line"> - computer.txt (1007 B)</div>
<div class="line"> - pattern.txt (1152 B)</div>
<div class="line"> - astronaut.txt (3713 B)</div>
<div class="line">Directory listing completed successfully (files: 5)</div>
</div><!-- fragment --></li>
</ol>
<p>The (relative) path of the directory, its files (!) including name and size and eventually the number of files shall be printed. <b>&ndash;COMMIT&ndash;</b></p>
<p><b>For each <code>*.txt</code> file in that directory:</b></p>
<ol type="1">
<li><p class="startli">Print the textual file content:</p><ol type="a">
<li>Print a headling containing the file path</li>
<li>Print the file content</li>
<li>Print a footer containing the number of read characters and again the file path <div class="fragment"><div class="line">Content of file ./ascii_art/car.txt:</div>
<div class="line"> </div>
<div class="line">                              _.-=<span class="stringliteral">&quot;_-         _</span></div>
<div class="line"><span class="stringliteral">                         _.-=&quot;</span>   _-          | ||<span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;---._______     __..</span></div>
<div class="line"><span class="stringliteral">             ___.===&quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;-.______-,,,,,,,,,,,,`-&#39;&#39;----&quot;</span> <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;       &quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;&quot;</span>  __<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral">      __.--&quot;&quot;     __        ,&#39;</span>                   o \           __        [__|</div>
<div class="line"> __-<span class="stringliteral">&quot;&quot;</span>=======.--<span class="stringliteral">&quot;&quot;</span>  <span class="stringliteral">&quot;&quot;</span>--.=================================.--<span class="stringliteral">&quot;&quot;</span>  <span class="stringliteral">&quot;&quot;</span>--.=======:</div>
<div class="line">]       [w] : /        \ : |========================|    : /        \ :  [w] :</div>
<div class="line">V___________:|          |: |========================|    :|          |:   _-<span class="stringliteral">&quot;</span></div>
<div class="line"><span class="stringliteral"> V__________: \        / :_|=======================/_____: \        / :__-&quot;</span></div>
<div class="line"> -----------<span class="stringliteral">&#39;  &quot;-____-&quot;  `-------------------------------&#39;</span>  <span class="stringliteral">&quot;-____-&quot;</span></div>
<div class="line">Printed 662 characters from file ./ascii_art/car.txt</div>
</div><!-- fragment --></li>
</ol>
<p class="startli"><b>&ndash;COMMIT&ndash;</b></p>
</li>
<li>Compress the text file into a binary RLE encoded file:<ol type="a">
<li>Compress that file into a <b>binary</b> file with the same name but extension <code>.rle</code>.</li>
<li>Print the marker when the processing start naming the processed file</li>
<li>Print a status line that contains the number of uncompressed and compress bytes, the path of the compressed file and the number of bytes written to the compressed file. <div class="fragment"><div class="line">Compressing file ./ascii_art/car.txt ...</div>
<div class="line">Compressed 662 B in file ./ascii_art/car.txt to 396 B in file ./ascii_art/car.rle (40.2% smaller)</div>
</div><!-- fragment --></li>
</ol>
</li>
<li><p class="startli">Read back the binary file, expand and print it</p><ol type="a">
<li>Read the compressed binary file (.rle) back, expand and print it on the fly.</li>
<li>Again print a header and a footer similar to step 1. <div class="fragment"><div class="line">Printing compressed file ./ascii_art/car.rle:</div>
<div class="line"> </div>
<div class="line">                              _.-=<span class="stringliteral">&quot;_-         _</span></div>
<div class="line"><span class="stringliteral">                         _.-=&quot;</span>   _-          | ||<span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;---._______     __..</span></div>
<div class="line"><span class="stringliteral">             ___.===&quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;-.______-,,,,,,,,,,,,`-&#39;&#39;----&quot;</span> <span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;       &quot;</span><span class="stringliteral">&quot;&quot;</span><span class="stringliteral">&quot;&quot;</span>  __<span class="stringliteral">&#39;</span></div>
<div class="line"><span class="stringliteral">      __.--&quot;&quot;     __        ,&#39;</span>                   o \           __        [__|</div>
<div class="line"> __-<span class="stringliteral">&quot;&quot;</span>=======.--<span class="stringliteral">&quot;&quot;</span>  <span class="stringliteral">&quot;&quot;</span>--.=================================.--<span class="stringliteral">&quot;&quot;</span>  <span class="stringliteral">&quot;&quot;</span>--.=======:</div>
<div class="line">]       [w] : /        \ : |========================|    : /        \ :  [w] :</div>
<div class="line">V___________:|          |: |========================|    :|          |:   _-<span class="stringliteral">&quot;</span></div>
<div class="line"><span class="stringliteral"> V__________: \        / :_|=======================/_____: \        / :__-&quot;</span></div>
<div class="line"> -----------<span class="stringliteral">&#39;  &quot;-____-&quot;  `-------------------------------&#39;</span>  <span class="stringliteral">&quot;-____-</span></div>
<div class="line"><span class="stringliteral">Expanded 396 characters in file ./ascii_art/car.rle to 661 characters</span></div>
</div><!-- fragment --></li>
</ol>
<p class="startli"><b>&ndash;COMMIT&ndash;</b></p>
</li>
<li>Run the application.</li>
</ol>
<h1><a class="anchor" id="notes"></a>
Notes</h1>
<ol type="1">
<li><code>general.h</code> contains macros for finding the minimum, maximum, and absolute value</li>
<li>make cleantest: This new make target for clearing the console, building, and running unit test is available.</li>
<li>Sometimes changes are not properly detected by incremental builds. If something very strange happens during compilation, try to run <code>make clean</code> followed by <code>make</code> to start a clean build. This approach is also recommended after everthing is done, because some compiler warning appears only in clean builds. </li>
</ol>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 11 2021 22:54:04 for ASCII Processor by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
